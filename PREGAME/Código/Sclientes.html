<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Menú Lateral con CSS</title>
    <link rel="stylesheet" href="style.css">
    <style>
      @import url('https://fonts.googleapis.com/css?family=Montserrat|Montserrat+Alternates|Poppins&display=swap');
	*{
		margin: 0;
		padding: 0;
		box-sizing: border-box;
		font-family: 'Montserrat Alternates', sans-serif;
	}
	body{
		background-size: 100vw 100vh;
		background-repeat: no-repeat;
	}
	.capa{
		position: fixed;
		width: 100%;
		height: 100vh;
		z-index: -1;
		top: 0;left: 0;
	}
	/*Estilos para el encabezado*/
	.header{
		width: 100%;
		height: 100px;
		position: fixed;
		top: 0;left: 0;
	}
	.container{
		width: 90%;
		max-width: 1200px;
		margin: auto;
	}
	.container .btn-menu, .logo{
		float: left;
		line-height:100px;
	}
	.container .btn-menu label{
		color: #fff;
		font-size: 25px;
		cursor: pointer;
	}
	.logo h1{
		color: #fff;
		font-weight: 400;
		font-size: 22px;
		margin-left: 10px;
	}
	.container .menu{
		float: right;
		line-height: 100px;
	}
	.container .menu a{
		display: inline-block;
		padding: 15px;
		line-height: normal;
		text-decoration: none;
		color: #fff;
		transition: all 0.3s ease;
		border-bottom: 2px solid transparent;
		font-size: 15px;
		margin-right: 5px;
	}
	.container .menu a:hover{
		border-bottom: 2px solid #c7c7c7;
		padding-bottom: 5px;
	}
	/*Fin de Estilos para el encabezado*/

	/*Menù lateral*/
	#btn-menu{
		display: none;
	}
	.container-menu{
		position: absolute;
		background: rgba(255, 149, 232);
		width: 100%;
		height: 100vh;
		top: 0;left: 0;
		transition: all 500ms ease;
		opacity: 0;
		visibility: hidden;
	}
	#btn-menu:checked ~ .container-menu{
		opacity: 1;
		visibility: visible;
	}
	.cont-menu{
		width: 100%;
		max-width: 250px;
		background: #1c1c1c;
		height: 100vh;
		position: relative;
		transition: all 500ms ease;
		transform: translateX(-100%);
	}
	#btn-menu:checked ~ .container-menu .cont-menu{
		transform: translateX(0%);
	}
	.cont-menu nav{
		transform: translateY(15%);
	}
	.cont-menu nav a{
		display: block;
		text-decoration: none;
		padding: 20px;
		color: #c7c7c7;
		border-left: 5px solid transparent;
		transition: all 400ms ease;
	}
	.cont-menu nav a:hover{
		border-left: 5px solid #c7c7c7;
		background: #1f1f1f;
	}
	.cont-menu label{
		position: absolute;
		right: 5px;
		top: 10px;
		color: #fff;
		cursor: pointer;
		font-size: 18px;
	}
	/*Fin de Menù lateral*/

/* Estilos para la tabla de clientes */
.form-container {
  margin-top: 150px;
}

#tabla-clientes {
  width: 100%;
  border-collapse: collapse;
}

#tabla-clientes th,
#tabla-clientes td {
  padding: 10px;
  text-align: left;
}

#tabla-clientes th {
  background-color: #f2f2f2;
  font-weight: bold;
}

#tabla-clientes td {
  border-bottom: 1px solid #ccc;
}

#tabla-clientes tr:nth-child(even) {
  background-color: #f9f9f9;
}

#tabla-clientes tr:hover {
  background-color: #e6f2ff;
}

#tabla-clientes td.actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

#tabla-clientes td.actions a {
  display: inline-block;
  padding: 5px 10px;
  background-color: #f2f2f2;
  text-decoration: none;
  color: #333;
  font-size: 12px;
  border-radius: 3px;
  transition: background-color 0.3s ease;
}

#tabla-clientes td.actions a:hover {
  background-color: #e6e6e6;
}

#tabla-clientes td.title {
  font-weight: bold;
  text-transform: uppercase;
  padding-bottom: 5px;
}

#tabla-clientes td.centered {
  text-align: center;
}
		
body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f2f2f2; /* Establecer el fondo gris en el body */
        }

        .form-container {
            margin-top: 150px;
            background-color: #fff; /* Establecer el fondo blanco en el contenedor */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            overflow: auto; /* Agregar desplazamiento para contenido amplio */
        }

  
      h1 {
        font-size: 24px;
        margin-bottom: 20px;
      }
  
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
  
      th, td {
        padding: 10px;
        text-align: left;
      }
  
      th {
        background-color: #f5f5f5;
        font-weight: bold;
      }
  
      tr:nth-child(even) {
        background-color: #f9f9f9;
      }
  
      button {
        padding: 5px 10px;
        border: none;
        background-color: #f44336;
        color: #fff;
        border-radius: 4px;
        cursor: pointer;
      }
  
      button:hover {
        background-color: #d32f2f;
      }
  
      .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #fff;
        width: 300px;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }
  
      .popup.active {
        opacity: 1;
        pointer-events: auto;
      }
  
      .popup-content {
        margin-bottom: 20px;
      }
  
      .popup-buttons {
        text-align: right;
      }
  
      .popup-buttons button {
        margin-left: 10px;
      }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      function borrarReserva(id) {
        var popup = $("#popup");
        popup.addClass("active");
  
        $("#confirmar-borrar").click(function () {
          $.ajax({
            url: "borrar_reserva.php",
            type: "POST",
            data: { id: id },
            success: function (data) {
              alert(data);
              location.reload();
            },
            error: function () {
              alert("Error al borrar la reserva.");
            },
          });
  
          popup.removeClass("active");
        });
  
        $("#cancelar-borrar").click(function () {
          popup.removeClass("active");
        });
      }
  
      $(document).ready(function () {
            $.ajax({
                url: "clientes.php",
                dataType: "json",
                success: function (data) {
                    // Ordena los datos según el día y el mes antes de mostrarlos en la tabla
                    data.sort(function (a, b) {
                        // Ordena por mes primero
                        if (a.mes !== b.mes) {
                            return a.mes - b.mes;
                        }
                        // Si los meses son iguales, ordena por día
                        return a.dia - b.dia;
                    });

                    var tablaClientes = $("#tabla-clientes");
                    $.each(data, function (index, cliente) {
                        var newRow = $("<tr>");
                        newRow.append("<td>" + cliente.nombre + "</td>");
                        newRow.append("<td>" + cliente.apellido + "</td>");
                        newRow.append("<td>" + cliente.telefono + "</td>");
                        newRow.append("<td>" + cliente.direccion + "</td>");
                        newRow.append("<td>" + cliente.email + "</td>");
                        newRow.append("<td>" + cliente.dia + "</td>");
                        newRow.append("<td>" + cliente.mes + "</td>"); // Nueva columna "mes"
                        newRow.append("<td>" + cliente.hora + "</td>");

                        var deleteButton = $("<button>");
                        deleteButton.text("Borrar");
                        deleteButton.click(function () {
                            borrarReserva(cliente.id);
                        });

                        var actionsColumn = $("<td>");
                        actionsColumn.append(deleteButton);
                        newRow.append(actionsColumn);

                        tablaClientes.append(newRow);
                    });
                },
                error: function () {
                    console.error("Error al cargar los datos de los clientes.");
                },
            });
        });
    </script>
</head>
<body>
  <div class="slider-frame">
    <ul>
        <li><img src="slider5.jpg" alt=""></li>
        <li><img src="slider6.jpg" alt=""></li>
        <li><img src="slider7.jpg" alt=""></li>
        <li><img src="slider8.jpg" alt=""></li>
    </ul>
</div>
<header class="header">
	<div class="container">
		<div class="btn-menu">
			<label for="btn-menu">☰</label>
		</div>
		<div class="logo">
			<h1>Beautiful Nails</h1>
		</div>
		<nav class="menu">
			<a href="index.html">Salir</a>
		</nav>
	</div>
</header>
<div class="capa"></div>
<input type="checkbox" id="btn-menu">
<div class="container-menu">
	<div class="cont-menu">
		<nav>
            <a href="Sformulario.html">Registrar Cliente</a>
            <a href="#">Clientes</a>
            <a href="empleados.html">Empleados</a>
            <a href="codigo.html">Código de Seguridad</a>
		</nav>
		<label for="btn-menu">✖️</label>
	</div>
</div>

<div class="form-container">
	<h1>Reservas de Clientes</h1>
	<table id="tabla-clientes">
		<tr>
			<th>Nombre</th>
			<th>Apellido</th>
			<th>Teléfono</th>
			<th>Dirección</th>
			<th>Email</th>
			<th>Día</th>
      <th>Mes</th>
			<th>Hora</th>
			<th>Acciones</th>
		</tr>
	</table>
</div>

<div id="popup" class="popup">
	<div class="popup-content">
		<p>¿Estás seguro de que quieres borrar esta reserva?</p>
	</div>
	<div class="popup-buttons">
		<button id="confirmar-borrar" class="popup-button">Confirmar</button>
		<button id="cancelar-borrar" class="popup-button">Cancelar</button>
	</div>
</div>

</body>
</html>

