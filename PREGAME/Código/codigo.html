<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Menú Lateral con CSS</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<link rel="stylesheet" href="style.css">
	<style>
        @import url('https://fonts.googleapis.com/css?family=Montserrat|Montserrat+Alternates|Poppins&display=swap');
	*{
		margin: 0;
		padding: 0;
		box-sizing: border-box;
		font-family: 'Montserrat Alternates', sans-serif;
	}
	body{
		background-size: 100vw 100vh;
		background-repeat: no-repeat;
	}
	.capa{
		position: fixed;
		width: 100%;
		height: 100vh;
		z-index: -1;
		top: 0;left: 0;
	}
	/*Estilos para el encabezado*/
	.header{
		width: 100%;
		height: 100px;
		position: fixed;
		top: 0;left: 0;
	}
	.container{
		width: 90%;
		max-width: 1200px;
		margin: auto;
	}
	.container .btn-menu, .logo{
		float: left;
		line-height:100px;
	}
	.container .btn-menu label{
		color: #fff;
		font-size: 25px;
		cursor: pointer;
	}
	.logo h1{
		color: #fff;
		font-weight: 400;
		font-size: 22px;
		margin-left: 10px;
	}
	.container .menu{
		float: right;
		line-height: 100px;
	}
	.container .menu a{
		display: inline-block;
		padding: 15px;
		line-height: normal;
		text-decoration: none;
		color: #fff;
		transition: all 0.3s ease;
		border-bottom: 2px solid transparent;
		font-size: 15px;
		margin-right: 5px;
	}
	.container .menu a:hover{
		border-bottom: 2px solid #c7c7c7;
		padding-bottom: 5px;
	}
	/*Fin de Estilos para el encabezado*/

	/*Menù lateral*/
	#btn-menu{
		display: none;
	}
	.container-menu{
		position: absolute;
		background: rgba(255, 149, 232);
		width: 100%;
		height: 100vh;
		top: 0;left: 0;
		transition: all 500ms ease;
		opacity: 0;
		visibility: hidden;
	}
	#btn-menu:checked ~ .container-menu{
		opacity: 1;
		visibility: visible;
	}
	.cont-menu{
		width: 100%;
		max-width: 250px;
		background: #1c1c1c;
		height: 100vh;
		position: relative;
		transition: all 500ms ease;
		transform: translateX(-100%);
	}
	#btn-menu:checked ~ .container-menu .cont-menu{
		transform: translateX(0%);
	}
	.cont-menu nav{
		transform: translateY(15%);
	}
	.cont-menu nav a{
		display: block;
		text-decoration: none;
		padding: 20px;
		color: #c7c7c7;
		border-left: 5px solid transparent;
		transition: all 400ms ease;
	}
	.cont-menu nav a:hover{
		border-left: 5px solid #c7c7c7;
		background: #1f1f1f;
	}
	.cont-menu label{
		position: absolute;
		right: 5px;
		top: 10px;
		color: #fff;
		cursor: pointer;
		font-size: 18px;
	}
	/*Fin de Menù lateral*/

/* Estilos para la tabla de clientes */
.form-container {
  margin-top: 150px;
}

#tabla-clientes {
  width: 100%;
  border-collapse: collapse;
}

#tabla-clientes th,
#tabla-clientes td {
  padding: 10px;
  text-align: left;
}

#tabla-clientes th {
  background-color: #f2f2f2;
  font-weight: bold;
}

#tabla-clientes td {
  border-bottom: 1px solid #ccc;
}

#tabla-clientes tr:nth-child(even) {
  background-color: #f9f9f9;
}

#tabla-clientes tr:hover {
  background-color: #e6f2ff;
}

#tabla-clientes td.actions {
  display: flex;
  gap: 10px;
  align-items: center;
}

#tabla-clientes td.actions a {
  display: inline-block;
  padding: 5px 10px;
  background-color: #f2f2f2;
  text-decoration: none;
  color: #333;
  font-size: 12px;
  border-radius: 3px;
  transition: background-color 0.3s ease;
}

#tabla-clientes td.actions a:hover {
  background-color: #e6e6e6;
}

#tabla-clientes td.title {
  font-weight: bold;
  text-transform: uppercase;
  padding-bottom: 5px;
}

#tabla-clientes td.centered {
  text-align: center;
}
		body {
			margin: 0;
			display: flex;
			justify-content: center; /* Centrar horizontalmente */
			align-items: center; /* Centrar verticalmente */
			min-height: 100vh; /* Altura mínima de la ventana del navegador */
		}

		form {
			background-color: #fff;
			padding: 30px;
			border-radius: 5px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
		}   

		label {
			display: block;
			margin-bottom: 5px;
		}

		input[type="text"],
		input[type="password"] {
			width: 200px;
			padding: 10px;
			margin-bottom: 15px;
			border: 1px solid #ccc;
			border-radius: 3px;
		}

		input[type="submit"] {
			margin-top: 20px;
			padding: 10px 20px;
			font-size: 16px;
			background-color: #4CAF50;
			color: #fff;
			border: none;
			cursor: pointer;
		}
        .popup-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .popup-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 300px;
        }
        .error-message {
            color: red;
            font-size: 14px;
            margin-top: 5px;
        }
	</style>
	 <script>
         function validarCodigo() {
            var codigo = document.getElementById('codigo').value;
            var confirmarCodigo = document.getElementById('confirmar-codigo').value;
            var confirmarCodigoError = document.getElementById('confirmar-codigo-error');

            if (codigo === confirmarCodigo) {
                confirmarCodigoError.style.display = 'none';
                return true;
            } else {
                confirmarCodigoError.style.display = 'block';
                return false;
            }
        }

        function cambiarCodigo() {
            if (!validarCodigo()) {
                event.preventDefault(); // Previene el envío del formulario si los códigos no coinciden
            }

            const codigo = document.getElementById('codigo').value;
            // Resto de la función para enviar el formulario al servidor
        }
    </script>
</head>
<body>
    <div class="slider-frame">
        <ul>
            <li><img src="slider4.jpg" alt=""></li>
            <li><img src="slider5.jpg" alt=""></li>
            <li><img src="slider6.jpg" alt=""></li>
            <li><img src="slider7.jpg" alt=""></li>
        </ul>
      </div>
<header class="header">
	<div class="container">
		<div class="btn-menu">
			<label for="btn-menu">☰</label>
		</div>
		<div class="logo">
			<h1>Beautiful Nails</h1>
		</div>
		<nav class="menu">
			<a href="index.html">Salir</a>
		</nav>
	</div>
</header>
<div class="capa"></div>
<input type="checkbox" id="btn-menu">
<div class="container-menu">
	<div class="cont-menu">
		<nav>
			<a href="Sformulario.html">Registrar Cliente</a>
			<a href="Sclientes.html">Clientes</a>
			<a href="empleados.html">Empleados</a>
			<a href="#">Código de Seguridad</a>
		</nav>
		<label for="btn-menu">✖️</label>
	</div>
</div>
<form method="POST" action="cambiar_codigo.php">
    <label for="codigo">Código de Seguridad:</label>
    <input type="password" id="codigo" name="codigo" required><br>

    <label for="confirmar-codigo">Confirmar Código:</label>
    <input type="password" id="confirmar-codigo" name="confirmar-codigo" required>
    <div id="confirmar-codigo-error" class="error-message" style="display: none;">
        Los códigos no coinciden.
    </div>
    <br>

    <input type="submit" value="Guardar contraseña" onclick="cambiarCodigo();">
</form>
<div class="popup-container" id="popupContainer">
    <div class="popup-content">
        <p id="popupMessage">El código de seguridad ha sido actualizado correctamente.</p>
    </div>
</div>
<script>
    // Función para mostrar la ventana emergente
    function showPopup(message) {
        const popupContainer = document.getElementById('popupContainer');
        const popupMessage = document.getElementById('popupMessage');

        popupMessage.textContent = message;
        popupContainer.style.opacity = '1';
        popupContainer.style.pointerEvents = 'auto';

        // Ocultar la ventana emergente después de 3 segundos
        setTimeout(function() {
            hidePopup();
        }, 3000);
    }

    // Función para ocultar la ventana emergente
    function hidePopup() {
        const popupContainer = document.getElementById('popupContainer');
        popupContainer.style.opacity = '0';
        popupContainer.style.pointerEvents = 'none';
    }

    // Obtener el formulario y agregar un listener para el evento submit
    const form = document.querySelector('form');
    form.addEventListener('submit', function(event) {
        event.preventDefault();

        // Obtener el código ingresado
        const codigo = document.getElementById('codigo').value;

        // Enviar el formulario mediante una solicitud AJAX
        const xhr = new XMLHttpRequest();
        xhr.open('POST', 'cambiar_codigo.php', true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.onreadystatechange = function() {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                if (xhr.status === 200) {
                    // Se recibió una respuesta del servidor
                    const response = JSON.parse(xhr.responseText);
                    if (response.status === 'success') {
                        // Código actualizado correctamente, mostrar ventana emergente
                        showPopup('El código de seguridad ha sido actualizado correctamente.');
                    } else {
                        // Hubo un error al actualizar el código, mostrar mensaje de error
                        alert(response.message);
                    }
                } else {
                    // Hubo un error al enviar la solicitud, mostrar mensaje de error
                    alert('Error al enviar la solicitud al servidor.');
                }
            }
        };
        xhr.send('codigo=' + encodeURIComponent(codigo));
    });
</script>

</body>
</html>
